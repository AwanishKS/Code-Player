<!doctype html>

<head>
	<title>REAL TIME CODE PLAYER</title>
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="jquery-ui/jquery-ui.js"></script>
	<link href="jquery-ui/jquery-ui.css" rel="stylesheet">
	
	<style type="text/css">
	
	#headerDiv
		{
		margin:0px;
		width:100%;
		height:40px;
		background-color:#e8f2ff;
		text-align:center;
		font-family:sans-serif;
		font-size:30px;
		}
	
	#containButtons
		{
		height:30px;
		width:259px;
		margin:0 auto;
		text-align:center;
		}
	
	.toggleButton
		{
		float:left;
		font-size:15px;
		border:1px solid gray;
		border-right:none;
		padding:5px;
		}
	
	#html
		{
		border-top-left-radius:4px;
		border-bottom-left-radius:4px;
		}
	
	#output
		{
		border-top-right-radius:4px;
		border-bottom-right-radius:4px;
		border-right:1px solid gray;
		}
	
	.active
		{
		background-color:#6293D3;
		}
	
	.highlighter
		{
		background-color:gray;
		}
	
	#bodyContainer
		{
		float:none;
		margin:0 auto;
		}
	
	textarea
		{
		resize:none;
		border-color:gray;
		}
	
	.panel
		{
		width:50%;
		float:left;
		border-left:none;
		}
	
	.hidden
		{
		display:none;
		}
		
	</style>
	
</head> 
	 
	 
	 
<body>
		<div id="headerDiv"><h4>REAL TIME CODE PLAYER</h4></div>
		
			<div id="containButtons">
		
					<div class="toggleButton active" id="html"> HTML </div>
					<div class="toggleButton" id="css"> CSS </div>
					<div class="toggleButton" id="javascript"> JAVASCRIPT </div>
					<div class="toggleButton active" id="output"> OUTPUT  </div>
					
			</div>
		
		<div id="bodyContainer">
		
					<textarea id="htmlpanel" class="panel"><p id="para">hiii</p></textarea>
					<textarea id="csspanel" class="panel hidden">p{color:green;}</textarea>
					<textarea id="javascriptpanel" class="panel hidden">document.getElementById("para").innerHTML="changed";</textarea>
					<iframe id="outputpanel" class="panel"></iframe>
					
		</div>
		
		<script type="text/javascript">
		
		function updateOutput()
		
			{
				$("iframe").contents().find("html").html("<html><head><style type='text/css'>"
				+$("#csspanel").val()+"</style></head><body>"
				+$("#htmlpanel").val()+"</body></html>");
				
				document.getElementById("outputpanel").contentWindow.eval($("#javascriptpanel").val());
			}

			{
				$(".toggleButton").hover(function()
					{
					$(this).addClass("highlighter");
					},
					function()
					{
						$(this).removeClass("highlighter");
					});
			}
		
			$(".toggleButton").click(function()
				{
					$(this).toggleClass("active");
					$(this).removeClass("highlighter");
					var panelId=$(this).attr("id")+"panel";
					$("#"+panelId).toggleClass("hidden");
					var countPanels=4-$(".hidden").length;
					$(".panel").width(($(window).width()/countPanels)-15);
				});
		
			$(".panel").height($(window).height()-$("#headerDiv").height()-30);
			$(".panel").width(($(window).width()/2)-15);
			
				updateOutput();
				
			$("textarea").on('change keyup paste', function() 
				{
				updateOutput();
				});
				
			
				
		</script>
		
</body>

</html>